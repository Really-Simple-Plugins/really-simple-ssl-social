define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(A,G,k){var b=A("./lib/oop"),x=A("./lib/event_emitter").EventEmitter,H=A("./lib/lang"),j=A("./range").Range,F=A("./anchor").Anchor,D=A("./keyboard/hash_handler").HashHandler,z=A("./tokenizer").Tokenizer,w=j.comparePoints,C=function(){this.snippetMap={},this.snippetNameMap={}};(function(){b.implement(this,x),this.getTokenizer=function(){function c(f,d,h){return f=f.substr(1),/^\d+$/.test(f)&&!h.inFormatString?[{tabstopId:parseInt(f,10)}]:[{text:f}]}function a(d){return"(?:[^\\\\"+d+"]|\\\\.)"}return C.$tokenizer=new z({start:[{regex:/:/,onMatch:function(f,d,h){return h.length&&h[0].expectIf?(h[0].expectIf=!1,h[0].elseBranch=h[0],[h[0]]):":"}},{regex:/\\./,onMatch:function(h,d,i){var f=h[1];return f=="}"&&i.length?h=f:"`$\\".indexOf(f)!=-1?h=f:i.inFormatString&&(f=="n"?h="\n":f=="t"?h="\n":"ulULE".indexOf(f)!=-1&&(h={changeCase:f,local:f>"a"})),[h]}},{regex:/}/,onMatch:function(f,d,h){return[h.length?h.shift():f]}},{regex:/\$(?:\d+|\w+)/,onMatch:c},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(e,h,f){var d=c(e.substr(1),h,f);return f.unshift(d[0]),d},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+a("\\|")+"*\\|",onMatch:function(f,d,h){h[0].choices=f.slice(1,-1).split(",")},next:"start"},{regex:"/("+a("/")+"+)/(?:("+a("/")+"*)/)(\\w*):?",onMatch:function(h,d,i){var f=i[0];return f.fmtString=h,h=this.splitRegex.exec(h),f.guard=h[1],f.fmt=h[2],f.flag=h[3],""},next:"start"},{regex:"`"+a("`")+"*`",onMatch:function(f,d,h){return h[0].code=f.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(f,d,h){h[0]&&(h[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+a("/")+"+)/",token:"regex"},{regex:"",onMatch:function(f,d,h){h.inFormatString=!0},next:"start"}]}),C.prototype.getTokenizer=function(){return C.$tokenizer},C.$tokenizer},this.tokenizeTmSnippet=function(c,a){return this.getTokenizer().getLineTokens(c,a).tokens.map(function(d){return d.value||d})},this.$getDefaultValue=function(f,c){if(/^[A-Z]\d+$/.test(c)){var h=c.substr(1);return(this.variables[c[0]+"__"]||{})[h]}if(/^\d+$/.test(c)){return(this.variables.__||{})[c]}c=c.replace(/^TM_/,"");if(!f){return}var d=f.session;switch(c){case"CURRENT_WORD":var a=d.getWordRange();case"SELECTION":case"SELECTED_TEXT":return d.getTextRange(a);case"CURRENT_LINE":return d.getLine(f.getCursorPosition().row);case"PREV_LINE":return d.getLine(f.getCursorPosition().row-1);case"LINE_INDEX":return f.getCursorPosition().column;case"LINE_NUMBER":return f.getCursorPosition().row+1;case"SOFT_TABS":return d.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return d.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}},this.variables={},this.getVariableValue=function(c,a){return this.variables.hasOwnProperty(a)?this.variables[a](c,a)||"":this.$getDefaultValue(c,a)||""},this.tmStrFormat=function(l,d,p){var h=d.flag||"",c=d.guard;c=new RegExp(c,h.replace(/[^gi]/,""));var f=this.tokenizeTmSnippet(d.fmt,"formatString"),m=this,a=l.replace(c,function(){m.variables.__=arguments;var I=m.resolveVariables(f,p),s="E";for(var v=0;v<I.length;v++){var o=I[v];if(typeof o=="object"){I[v]="";if(o.changeCase&&o.local){var n=I[v+1];n&&typeof n=="string"&&(o.changeCase=="u"?I[v]=n[0].toUpperCase():I[v]=n[0].toLowerCase(),I[v+1]=n.substr(1))}else{o.changeCase&&(s=o.changeCase)}}else{s=="U"?I[v]=o.toUpperCase():s=="L"&&(I[v]=o.toLowerCase())}}return I.join("")});return this.variables.__=null,a},this.resolveVariables=function(h,c){function l(e){var i=h.indexOf(e,f+1);i!=-1&&(f=i)}var m=[];for(var f=0;f<h.length;f++){var a=h[f];if(typeof a=="string"){m.push(a)}else{if(typeof a!="object"){continue}if(a.skip){l(a)}else{if(a.processed<f){continue}if(a.text){var d=this.getVariableValue(c,a.text);d&&a.fmtString&&(d=this.tmStrFormat(d,a)),a.processed=f,a.expectIf==null?d&&(m.push(d),l(a)):d?a.skip=a.elseBranch:l(a)}else{a.tabstopId!=null?m.push(a):a.changeCase!=null&&m.push(a)}}}}return m},this.insertSnippetForSelection=function(aa,O){function Z(f){var c=[];for(var l=0;l<f.length;l++){var d=f[l];if(typeof d=="object"){if(ae[d.tabstopId]){continue}var a=f.lastIndexOf(d,l-1);d=c[a]||{tabstopId:d.tabstopId}}c[l]=d}return c}var U=aa.getCursorPosition(),Q=aa.session.getLine(U.row),X=aa.session.getTabString(),P=Q.match(/^\s*/)[0];U.column<P.length&&(P=P.slice(0,U.column)),O=O.replace(/\r/g,"");var T=this.tokenizeTmSnippet(O);T=this.resolveVariables(T,aa),T=T.map(function(a){return a=="\n"?a+P:typeof a=="string"?a.replace(/\t/g,X):a});var M=[];T.forEach(function(o,f){if(typeof o!="object"){return}var p=o.tabstopId,m=M[p];m||(m=M[p]=[],m.index=p,m.value="");if(m.indexOf(o)!==-1){return}m.push(o);var d=T.indexOf(o,f+1);if(d===-1){return}var l=T.slice(f+1,d),c=l.some(function(a){return typeof a=="object"});c&&!m.value?m.value=l:l.length&&(!m.value||typeof m.value!="string")&&(m.value=l.join(""))}),M.forEach(function(a){a.length=0});var ae={};for(var W=0;W<T.length;W++){var ac=T[W];if(typeof ac!="object"){continue}var R=ac.tabstopId,ab=T.indexOf(ac,W+1);if(ae[R]){ae[R]===ac&&(ae[R]=null);continue}var L=M[R],V=typeof L.value=="string"?[L.value]:Z(L.value);V.unshift(W+1,Math.max(0,ab-W)),V.push(ac),ae[R]=ac,T.splice.apply(T,V),L.indexOf(ac)===-1&&L.push(ac)}var Y=0,I=0,ad="";T.forEach(function(c){if(typeof c=="string"){var a=c.split("\n");a.length>1?(I=a[a.length-1].length,Y+=a.length-1):I+=c.length,ad+=c}else{c.start?c.end={row:Y,column:I}:c.start={row:Y,column:I}}});var K=aa.getSelectionRange(),N=aa.session.replace(K,ad),h=new y(aa),J=aa.inVirtualSelectionMode&&aa.selection.index;h.addTabstops(M,K.start,N,J)},this.insertSnippet=function(c,a){var d=this;if(c.inVirtualSelectionMode){return d.insertSnippetForSelection(c,a)}c.forEachSelection(function(){d.insertSnippetForSelection(c,a)},null,{keepOrder:!0}),c.tabstopManager&&c.tabstopManager.tabNext()},this.$getScope=function(d){var a=d.session.$mode.$id||"";a=a.split("/").pop();if(a==="html"||a==="php"){a==="php"&&!d.session.$mode.inlinePhp&&(a="html");var f=d.getCursorPosition(),c=d.session.getState(f.row);typeof c=="object"&&(c=c[0]),c.substring&&(c.substring(0,3)=="js-"?a="javascript":c.substring(0,4)=="css-"?a="css":c.substring(0,4)=="php-"&&(a="php"))}return a},this.getActiveScopes=function(d){var a=this.$getScope(d),f=[a],c=this.snippetMap;return c[a]&&c[a].includeScopes&&f.push.apply(f,c[a].includeScopes),f.push("_"),f},this.expandWithTab=function(d,a){var f=this,c=d.forEachSelection(function(){return f.expandSnippetForSelection(d,a)},null,{keepOrder:!0});return c&&d.tabstopManager&&d.tabstopManager.tabNext(),c},this.expandSnippetForSelection=function(l,d){var p=l.getCursorPosition(),h=l.session.getLine(p.row),c=h.substring(0,p.column),f=h.substr(p.column),m=this.snippetMap,a;return this.getActiveScopes(l).some(function(n){var i=m[n];return i&&(a=this.findMatchingSnippet(i,c,f)),!!a},this),a?d&&d.dryRun?!0:(l.session.doc.removeInLine(p.row,p.column-a.replaceBefore.length,p.column+a.replaceAfter.length),this.variables.M__=a.matchBefore,this.variables.T__=a.matchAfter,this.insertSnippetForSelection(l,a.content),this.variables.M__=this.variables.T__=null,!0):!1},this.findMatchingSnippet=function(f,c,h){for(var d=f.length;d--;){var a=f[d];if(a.startRe&&!a.startRe.test(c)){continue}if(a.endRe&&!a.endRe.test(h)){continue}if(!a.startRe&&!a.endRe){continue}return a.matchBefore=a.startRe?a.startRe.exec(c):[""],a.matchAfter=a.endRe?a.endRe.exec(h):[""],a.replaceBefore=a.triggerRe?a.triggerRe.exec(c)[0]:"",a.replaceAfter=a.endTriggerRe?a.endTriggerRe.exec(h)[0]:"",a}},this.snippetMap={},this.snippetNameMap={},this.register=function(m,h){function p(a){return a&&!/^\^?\(.*\)\$?$|^\\b$/.test(a)&&(a="(?:"+a+")"),a||""}function d(i,a,o){return i=p(i),a=p(a),o?(i=a+i,i&&i[i.length-1]!="$"&&(i+="$")):(i+=a,i&&i[0]!="^"&&(i="^"+i)),new RegExp(i)}function c(n){n.scope||(n.scope=h||"_"),h=n.scope,s[h]||(s[h]=[],l[h]={});var r=l[h];if(n.name){var i=r[n.name];i&&f.unregister(i),r[n.name]=n}s[h].push(n),n.tabTrigger&&!n.trigger&&(!n.guard&&/^\w/.test(n.tabTrigger)&&(n.guard="\\b"),n.trigger=H.escapeRegExp(n.tabTrigger));if(!n.trigger&&!n.guard&&!n.endTrigger&&!n.endGuard){return}n.startRe=d(n.trigger,n.guard,!0),n.triggerRe=new RegExp(n.trigger),n.endRe=d(n.endTrigger,n.endGuard,!0),n.endTriggerRe=new RegExp(n.endTrigger)}var s=this.snippetMap,l=this.snippetNameMap,f=this;m||(m=[]),m&&m.content?c(m):Array.isArray(m)&&m.forEach(c),this._signal("registerSnippets",{scope:h})},this.unregister=function(f,c){function a(n){var l=d[n.scope||c];if(l&&l[n.name]){delete l[n.name];var m=h[n.scope||c],p=m&&m.indexOf(n);p>=0&&m.splice(p,1)}}var h=this.snippetMap,d=this.snippetNameMap;f.content?a(f):Array.isArray(f)&&f.forEach(a)},this.parseSnippetFile=function(l){l=l.replace(/\r/g,"");var v=[],f={},c=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,h;while(h=c.exec(l)){if(h[1]){try{f=JSON.parse(h[1]),v.push(f)}catch(I){}}if(h[4]){f.content=h[4].replace(/^\t/gm,""),v.push(f),f={}}else{var d=h[2],p=h[3];if(d=="regex"){var m=/\/((?:[^\/\\]|\\.)*)|$/g;f.guard=m.exec(p)[1],f.trigger=m.exec(p)[1],f.endTrigger=m.exec(p)[1],f.endGuard=m.exec(p)[1]}else{d=="snippet"?(f.tabTrigger=p.match(/^\S*/)[0],f.name||(f.name=p)):f[d]=p}}}return v},this.getSnippetByName=function(d,a){var f=this.snippetNameMap,c;return this.getActiveScopes(a).some(function(h){var e=f[h];return e&&(c=e[d]),!!c},this),c}}).call(C.prototype);var y=function(a){if(a.tabstopManager){return a.tabstopManager}a.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=H.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(a)};(function(){this.attach=function(a){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=a,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(M){var R=M,I=M.action[0]=="r",l=M.start,J=M.end,S=l.row,v=J.row,Q=v-S,P=J.column-l.column;I&&(Q=-Q,P=-P);if(!this.$inChange&&I){var L=this.selectedTabstop,O=L&&!L.some(function(a){return w(a.start,l)<=0&&w(a.end,J)>=0});if(O){return this.detach()}}var K=this.ranges;for(var m=0;m<K.length;m++){var N=K[m];if(N.end.row<l.row){continue}if(I&&w(l,N.start)<0&&w(J,N.end)>0){this.removeRange(N),m--;continue}N.start.row==S&&N.start.column>l.column&&(N.start.column+=P),N.end.row==S&&N.end.column>=l.column&&(N.end.column+=P),N.start.row>=S&&(N.start.row+=Q),N.end.row>=S&&(N.end.row+=Q),w(N.start,N.end)>0&&this.removeRange(N)}K.length||this.detach()},this.updateLinkedFields=function(){var f=this.selectedTabstop;if(!f||!f.hasLinkedRanges){return}this.$inChange=!0;var l=this.editor.session,d=l.getTextRange(f.firstNonLinked);for(var a=f.length;a--;){var c=f[a];if(!c.linked){continue}var h=G.snippetManager.tmStrFormat(d,c.original);l.replace(c,h)}this.$inChange=!1},this.onAfterExec=function(a){a.command&&!a.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(!this.editor){return}var h=this.editor.selection.lead,c=this.editor.selection.anchor,l=this.editor.selection.isEmpty();for(var f=this.ranges.length;f--;){if(this.ranges[f].linked){continue}var a=this.ranges[f].contains(h.row,h.column),d=l||this.ranges[f].contains(c.row,c.column);if(a&&d){return}}this.detach()},this.onChangeSession=function(){this.detach()},this.tabNext=function(c){var a=this.tabstops.length,d=this.index+(c||1);d=Math.min(Math.max(d,1),a),d==a&&(d=0),this.selectTabstop(d),d===0&&this.detach()},this.selectTabstop=function(d){this.$openTabstops=null;var a=this.tabstops[this.index];a&&this.addTabstopMarkers(a),this.index=d,a=this.tabstops[this.index];if(!a||!a.length){return}this.selectedTabstop=a;if(!this.editor.inVirtualSelectionMode){var f=this.editor.multiSelect;f.toSingleRange(a.firstNonLinked.clone());for(var c=a.length;c--;){if(a.hasLinkedRanges&&a[c].linked){continue}f.addRange(a[c].clone(),!0)}f.ranges[0]&&f.addRange(f.ranges[0].clone())}else{this.editor.selection.setRange(a.firstNonLinked)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.addTabstops=function(l,d,m){this.$openTabstops||(this.$openTabstops=[]);if(!l[0]){var h=j.fromPoints(m,m);E(h.start,d),E(h.end,d),l[0]=[h],l[0].index=0}var c=this.index,f=[c+1,0],a=this.ranges;l.forEach(function(u,v){var s=this.$openTabstops[v]||u;for(var p=u.length;p--;){var o=u[p],t=j.fromPoints(o.start,o.end||o.start);B(t.start,d),B(t.end,d),t.original=o,t.tabstop=s,a.push(t),s!=u?s.unshift(t):s[p]=t,o.fmtString?(t.linked=!0,s.hasLinkedRanges=!0):s.firstNonLinked||(s.firstNonLinked=t)}s.firstNonLinked||(s.hasLinkedRanges=!1),s===u&&(f.push(s),this.$openTabstops[v]=s),this.addTabstopMarkers(s)},this),f.length>2&&(this.tabstops.length&&f.push(f.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,f))},this.addTabstopMarkers=function(c){var a=this.editor.session;c.forEach(function(d){d.markerId||(d.markerId=a.addMarker(d,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(c){var a=this.editor.session;c.forEach(function(d){a.removeMarker(d.markerId),d.markerId=null})},this.removeRange=function(c){var a=c.tabstop.indexOf(c);c.tabstop.splice(a,1),a=this.ranges.indexOf(c),this.ranges.splice(a,1),this.editor.session.removeMarker(c.markerId),c.tabstop.length||(a=this.tabstops.indexOf(c.tabstop),a!=-1&&this.tabstops.splice(a,1),this.tabstops.length||this.detach())},this.keyboardHandler=new D,this.keyboardHandler.bindKeys({Tab:function(a){if(G.snippetManager&&G.snippetManager.expandWithTab(a)){return}a.tabstopManager.tabNext(1)},"Shift-Tab":function(a){a.tabstopManager.tabNext(-1)},Esc:function(a){a.tabstopManager.detach()},Return:function(a){return !1}})}).call(y.prototype);var g={};g.onChange=F.prototype.onChange,g.setPosition=function(c,a){this.pos.row=c,this.pos.column=a},g.update=function(c,a,d){this.$insertRight=d,this.pos=c,this.onChange(a)};var B=function(c,a){c.row==0&&(c.column+=a.column),c.row+=a.row},E=function(c,a){c.row==a.row&&(c.column-=a.column),c.row-=a.row};A("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),G.snippetManager=new C;var q=A("./editor").Editor;(function(){this.insertSnippet=function(a,c){return G.snippetManager.insertSnippet(this,a,c)},this.expandSnippet=function(a){return G.snippetManager.expandWithTab(this,a)}}).call(q.prototype)}),define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(k,q,d){var b=k("../virtual_renderer").VirtualRenderer,h=k("../editor").Editor,v=k("../range").Range,c=k("../lib/event"),p=k("../lib/lang"),m=k("../lib/dom"),j=function(f){var a=new b(f);a.$maxLines=4;var i=new h(a);return i.setHighlightActiveLine(!1),i.setShowPrintMargin(!1),i.renderer.setShowGutter(!1),i.renderer.setHighlightGutterLine(!1),i.$mouseHandler.$focusWaitTimout=0,i.$highlightTagPending=!0,i},g=function(x){var A=m.createElement("div"),o=new j(A);x&&x.appendChild(A),A.style.display="none",o.renderer.content.style.cursor="default",o.renderer.setStyle("ace_autocomplete"),o.setOption("displayIndentGuides",!1),o.setOption("dragDelay",150);var a=function(){};o.focus=a,o.$isFocused=!0,o.renderer.$cursorLayer.restartTimer=a,o.renderer.$cursorLayer.element.style.opacity=0,o.renderer.$maxLines=8,o.renderer.$keepTextAreaAtCursor=!1,o.setHighlightActiveLine(!1),o.session.highlight(""),o.session.$searchHighlight.clazz="ace_highlight-marker",o.on("mousedown",function(l){var i=l.getDocumentPosition();o.selection.moveToPosition(i),z.start.row=z.end.row=i.row,l.stop()});var u,s=new v(-1,0,-1,Infinity),z=new v(-1,0,-1,Infinity);z.id=o.session.addMarker(z,"ace_active-line","fullLine"),o.setSelectOnHover=function(i){i?s.id&&(o.session.removeMarker(s.id),s.id=null):s.id=o.session.addMarker(s,"ace_line-hover","fullLine")},o.setSelectOnHover(!1),o.on("mousemove",function(l){if(!u){u=l;return}if(u.x==l.x&&u.y==l.y){return}u=l,u.scrollTop=o.renderer.scrollTop;var i=u.getDocumentPosition().row;s.start.row!=i&&(s.id||o.setRow(i),f(i))}),o.renderer.on("beforeRender",function(){if(u&&s.start.row!=-1){u.$pos=null;var i=u.getDocumentPosition().row;s.id||o.setRow(i),f(i,!0)}}),o.renderer.on("afterRender",function(){var n=o.getRow(),i=o.renderer.$textLayer,l=i.element.childNodes[n-i.config.firstRow];if(l==i.selectedNode){return}i.selectedNode&&m.removeCssClass(i.selectedNode,"ace_selected"),i.selectedNode=l,l&&m.addCssClass(l,"ace_selected")});var w=function(){f(-1)},f=function(l,i){l!==s.start.row&&(s.start.row=s.end.row=l,i||o.session._emit("changeBackMarker"),o._emit("changeHoverMarker"))};o.getHoveredRow=function(){return s.start.row},c.addListener(o.container,"mouseout",w),o.on("hide",w),o.on("changeSelection",w),o.session.doc.getLength=function(){return o.data.length},o.session.doc.getLine=function(l){var i=o.data[l];return typeof i=="string"?i:i&&i.value||""};var y=o.session.bgTokenizer;return y.$tokenizeRow=function(D){var G=o.data[D],l=[];if(!G){return l}typeof G=="string"&&(G={value:G}),G.caption||(G.caption=G.value||G.name);var B=-1,H,n;for(var F=0;F<G.caption.length;F++){n=G.caption[F],H=G.matchMask&1<<F?1:0,B!==H?(l.push({type:G.className||""+(H?"completion-highlight":""),value:n}),B=H):l[l.length-1].value+=n}if(G.meta){var E=o.renderer.$size.scrollerWidth/o.renderer.layerConfig.characterWidth,C=G.meta;C.length+G.caption.length>E-2&&(C=C.substr(0,E-G.caption.length-3)+"\u2026"),l.push({type:"rightAlignedText",value:C})}return l},y.$updateOnChange=a,y.start=a,o.session.$computeWidth=function(){return this.screenWidth=0},o.isOpen=!1,o.isTopdown=!1,o.autoSelect=!0,o.data=[],o.setData=function(i){o.setValue(p.stringRepeat("\n",i.length),-1),o.data=i||[],o.setRow(0)},o.getData=function(i){return o.data[i]},o.getRow=function(){return z.start.row},o.setRow=function(i){i=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,i)),z.start.row!=i&&(o.selection.clearSelection(),z.start.row=z.end.row=i||0,o.session._emit("changeBackMarker"),o.moveCursorTo(i||0,0),o.isOpen&&o._signal("select"))},o.on("changeSelection",function(){o.isOpen&&o.setRow(o.selection.lead.row),o.renderer.scrollCursorIntoView()}),o.hide=function(){this.container.style.display="none",this._signal("hide"),o.isOpen=!1},o.show=function(E,I,i){var J=this.container,n=window.innerHeight,H=window.innerWidth,G=this.renderer,D=G.$maxLines*I*1.4,B=E.top+this.$borderSize,F=B>n/2&&!i;F&&B+I+D>n?(G.$maxPixelHeight=B-2*this.$borderSize,J.style.top="",J.style.bottom=n-B+"px",o.isTopdown=!1):(B+=I,G.$maxPixelHeight=n-B-0.2*I,J.style.top=B+"px",J.style.bottom="",o.isTopdown=!0),J.style.display="",this.renderer.$textLayer.checkForSizeChanges();var C=E.left;C+J.offsetWidth>H&&(C=H-J.offsetWidth),J.style.left=C+"px",this._signal("show"),u=null,o.isOpen=!0},o.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},o.$imageSize=0,o.$borderSize=1,o};m.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),q.AcePopup=g}),define("ace/autocomplete/util",["require","exports","module"],function(c,a,d){a.parForEach=function(k,g,l){var j=0,f=k.length;f===0&&l();for(var h=0;h<f;h++){g(k[h],function(m,i){j++,j===f&&l(m,i)})}};var b=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;a.retrievePrecedingIdentifier=function(j,g,k){k=k||b;var f=[];for(var h=g-1;h>=0;h--){if(!k.test(j[h])){break}f.push(j[h])}return f.reverse().join("")},a.retrieveFollowingIdentifier=function(j,g,k){k=k||b;var f=[];for(var h=g;h<j.length;h++){if(!k.test(j[h])){break}f.push(j[h])}return f},a.getCompletionPrefix=function(h){var f=h.getCursorPosition(),i=h.session.getLine(f.row),g;return h.completers.forEach(function(j){j.identifierRegexps&&j.identifierRegexps.forEach(function(k){!g&&k&&(g=this.retrievePrecedingIdentifier(i,f.column,k))}.bind(this))}.bind(this)),g||this.retrievePrecedingIdentifier(i,f.column)}}),define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(m,w,g){var b=m("./keyboard/hash_handler").HashHandler,j=m("./autocomplete/popup").AcePopup,x=m("./autocomplete/util"),d=m("./lib/event"),v=m("./lib/lang"),q=m("./lib/dom"),k=m("./snippets").snippetManager,h=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new b,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=v.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=v.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new j(document.body||document.documentElement),this.popup.on("click",function(a){this.insertMatch(),a.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(u,c,z){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered),u.keyBinding.addKeyboardHandler(this.keyboardHandler);var l=u.renderer;this.popup.setRow(this.autoSelect?0:-1);if(!z){this.popup.setTheme(u.getTheme()),this.popup.setFontSize(u.getFontSize());var a=l.layerConfig.lineHeight,f=l.$cursorLayer.getPixelPosition(this.base,!0);f.left-=this.popup.getTextLeftOffset();var y=u.container.getBoundingClientRect();f.top+=y.top-l.layerConfig.offset,f.left+=y.left-u.renderer.scrollLeft,f.left+=l.gutterWidth,this.popup.show(f,a)}else{z&&!c&&this.detach()}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(c){var a=this.editor.selection.lead;(a.row!=this.base.row||a.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(l){var c=document.activeElement,o=this.editor.textInput.getElement(),f=l.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(l.relatedTarget),a=this.popup&&this.popup.container;c!=o&&c.parentNode!=a&&!f&&c!=this.tooltipNode&&l.relatedTarget!=o&&this.detach()},this.mousedownListener=function(a){this.detach()},this.mousewheelListener=function(a){this.detach()},this.goTo=function(c){var a=this.popup.getRow(),f=this.popup.session.getLength()-1;switch(c){case"up":a=a<=0?f:a-1;break;case"down":a=a>=f?-1:a+1;break;case"start":a=0;break;case"end":a=f}this.popup.setRow(a)},this.insertMatch=function(l,c){l||(l=this.popup.getData(this.popup.getRow()));if(!l){return !1}if(l.completer&&l.completer.insertMatch){l.completer.insertMatch(this.editor,l)}else{if(this.completions.filterText){var o=this.editor.selection.getAllRanges();for(var f=0,a;a=o[f];f++){a.start.column-=this.completions.filterText.length,this.editor.session.remove(a)}}l.snippet?k.insertSnippet(this.editor,l.snippet):this.editor.execCommand("insertstring",l.value||l)}this.detach()},this.commands={Up:function(a){a.completer.goTo("up")},Down:function(a){a.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(a){a.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(a){a.completer.goTo("end")},Esc:function(a){a.completer.detach()},Return:function(a){return a.completer.insertMatch()},"Shift-Return":function(a){a.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(c){var a=c.completer.insertMatch();if(!!a||!!c.tabstopManager){return a}c.completer.goTo("down")},PageUp:function(a){a.completer.popup.gotoPageUp()},PageDown:function(a){a.completer.popup.gotoPageDown()}},this.gatherCompletions=function(s,f){var z=s.getSession(),l=s.getCursorPosition(),c=x.getCompletionPrefix(s);this.base=z.doc.createAnchor(l.row,l.column-c.length),this.base.$insertRight=!0;var y=[],a=s.completers.length;return s.completers.forEach(function(e,i){e.getCompletions(s,z,l,c,function(t,o){!t&&o&&(y=y.concat(o)),f(null,{prefix:x.getCompletionPrefix(s),matches:y,finished:--a===0})})}),!0},this.showPopup=function(a){this.editor&&this.detach(),this.activated=!0,this.editor=a,a.completer!=this&&(a.completer&&a.completer.detach(),a.completer=this),a.on("changeSelection",this.changeListener),a.on("blur",this.blurListener),a.on("mousedown",this.mousedownListener),a.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(f){if(f&&this.base&&this.completions){var a=this.editor.getCursorPosition(),i=this.editor.session.getTextRange({start:this.base,end:a});if(i==this.completions.filterText){return}this.completions.setFilter(i);if(!this.completions.filtered.length){return this.detach()}if(this.completions.filtered.length==1&&this.completions.filtered[0].value==i&&!this.completions.filtered[0].snippet){return this.detach()}this.openPopup(this.editor,i,f);return}var c=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(r,A){var l=function(){if(!A.finished){return}return this.detach()}.bind(this),y=A.prefix,z=A&&A.matches;if(!z||!z.length){return l()}if(y.indexOf(A.prefix)!==0||c!=this.gatherCompletionsId){return}this.completions=new p(z),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(y);var e=this.completions.filtered;if(!e.length){return l()}if(e.length==1&&e[0].value==y&&!e[0].snippet){return l()}if(this.autoInsert&&e.length==1&&A.finished){return this.insertMatch(e[0])}this.openPopup(this.editor,y,f)}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var f=this.popup,a=f.data,i=a&&(a[f.getHoveredRow()]||a[f.getRow()]),c=null;if(!i||!this.editor||!this.popup.isOpen){return this.hideDocTooltip()}this.editor.completers.some(function(l){return l.getDocTooltip&&(c=l.getDocTooltip(i)),c}),c||(c=i),typeof c=="string"&&(c={docText:c});if(!c||!c.docHTML&&!c.docText){return this.hideDocTooltip()}this.showDocTooltip(c)},this.showDocTooltip=function(f){this.tooltipNode||(this.tooltipNode=q.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var a=this.tooltipNode;f.docHTML?a.innerHTML=f.docHTML:f.docText&&(a.textContent=f.docText),a.parentNode||document.body.appendChild(a);var i=this.popup,c=i.container.getBoundingClientRect();a.style.top=i.container.style.top,a.style.bottom=i.container.style.bottom,a.style.display="block",window.innerWidth-c.right<320?c.left<320?i.isTopdown?(a.style.top=c.bottom+"px",a.style.left=c.left+"px",a.style.right="",a.style.bottom=""):(a.style.top=i.container.offsetTop-a.offsetHeight+"px",a.style.left=c.left+"px",a.style.right="",a.style.bottom=""):(a.style.right=window.innerWidth-c.left+"px",a.style.left=""):(a.style.left=c.right+1+"px",a.style.right="")},this.hideDocTooltip=function(){this.tooltipTimer.cancel();if(!this.tooltipNode){return}var a=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==a&&this.editor.focus(),this.tooltipNode=null,a.parentNode&&a.parentNode.removeChild(a)},this.onTooltipClick=function(c){var a=c.target;while(a&&a!=this.tooltipNode){if(a.nodeName=="A"&&a.href){a.rel="noreferrer",a.target="_blank";break}a=a.parentNode}}}).call(h.prototype),h.startCommand={name:"startAutocomplete",exec:function(a){a.completer||(a.completer=new h),a.completer.autoInsert=!1,a.completer.autoSelect=!0,a.completer.showPopup(a),a.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var p=function(c,a){this.all=c,this.filtered=c,this.filterText=a||"",this.exactMatch=!1};(function(){this.setFilter=function(c){if(c.length>this.filterText&&c.lastIndexOf(this.filterText,0)===0){var a=this.filtered}else{var a=this.all}this.filterText=c,a=this.filterCompletions(a,this.filterText),a=a.sort(function(l,i){return i.exactMatch-l.exactMatch||i.score-l.score});var f=null;a=a.filter(function(l){var i=l.snippet||l.caption||l.value;return i===f?!1:(f=i,!0)}),this.filtered=a},this.filterCompletions=function(M,A){var F=[],C=A.toUpperCase(),I=A.toLowerCase();M:for(var B=0,E;E=M[B];B++){var z=E.value||E.caption||E.snippet;if(!z){continue}var P=-1,L=0,H=0,O,J;if(this.exactMatch){if(A!==z.substr(0,A.length)){continue M}}else{var D;if((D=z.toLowerCase().indexOf(I))>-1){for(var N=D;N<D+I.length;N++){L|=1<<N}}else{for(var y=0;y<A.length;y++){var G=z.indexOf(I[y],P+1),K=z.indexOf(C[y],P+1);O=G>=0?K<0||G<K?G:K:K;if(O<0){continue M}J=O-P-1,J>0&&(P===-1&&(H+=10),H+=J),L|=1<<O,P=O}}}E.matchMask=L,E.exactMatch=H?0:1,E.score=(E.score||0)-H,F.push(E)}return F}}).call(p.prototype),w.Autocomplete=h,w.FilteredList=p}),define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(f,b,h){function c(j,i){var k=j.getTextRange(d.fromPoints({row:0,column:0},i));return k.split(a).length-1}function g(l,j){var p=c(l,j),k=l.getValue().split(a),m=Object.create(null),i=k[p];return k.forEach(function(r,o){if(!r||r===i){return}var n=Math.abs(p-o),q=k.length-n;m[r]?m[r]=Math.max(q,m[r]):m[r]=q}),m}var d=f("../range").Range,a=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;b.getCompletions=function(p,l,q,o,k){var m=g(l,q),j=Object.keys(m);k(null,j.map(function(i){return{caption:i,value:i,score:m[i],meta:"local"}}))}}),define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(G,k,z){var w=G("../snippets").snippetManager,C=G("../autocomplete").Autocomplete,q=G("../config"),y=G("../lib/lang"),j=G("../autocomplete/util"),J=G("../autocomplete/text_completer"),F={getCompletions:function(g,c,l,f,a){if(c.$mode.completer){return c.$mode.completer.getCompletions(g,c,l,f,a)}var d=g.session.getState(l.row),h=c.$mode.getCompletions(d,c,l,f);a(null,h)}},B={getCompletions:function(g,d,l,c,f){var h=w.snippetMap,a=[];w.getActiveScopes(g).forEach(function(s){var o=h[s]||[];for(var u=o.length;u--;){var p=o[u],m=p.name||p.tabTrigger;if(!m){continue}a.push({caption:m,snippet:p.content,meta:p.tabTrigger&&!p.name?p.tabTrigger+"\u21e5 ":"snippet",type:"snippet"})}},this),f(null,a)},getDocTooltip:function(a){a.type=="snippet"&&!a.docHTML&&(a.docHTML=["<b>",y.escapeHTML(a.caption),"</b>","<hr></hr>",y.escapeHTML(a.snippet)].join(""))}},I=[B,J,F];k.setCompleters=function(a){I.length=0,a&&I.push.apply(I,a)},k.addCompleter=function(a){I.push(a)},k.textCompleter=J,k.keyWordCompleter=F,k.snippetCompleter=B;var D={name:"expandSnippet",exec:function(a){return w.expandWithTab(a)},bindKey:"Tab"},x=function(c,a){H(a.session.$mode)},H=function(c){var a=c.$id;w.files||(w.files={}),b(a),c.modes&&c.modes.forEach(H)},b=function(c){if(!c||w.files[c]){return}var a=c.replace("mode","snippets");w.files[c]={},q.loadModule(a,function(d){d&&(w.files[c]=d,!d.snippets&&d.snippetText&&(d.snippets=w.parseSnippetFile(d.snippetText)),w.register(d.snippets||[],d.scope),d.includeScopes&&(w.snippetMap[d.scope].includeScopes=d.includeScopes,d.includeScopes.forEach(function(f){b("ace/mode/"+f)})))})},A=function(d){var a=d.editor,f=a.completer&&a.completer.activated;if(d.command.name==="backspace"){f&&!j.getCompletionPrefix(a)&&a.completer.detach()}else{if(d.command.name==="insertstring"){var c=j.getCompletionPrefix(a);c&&!f&&(a.completer||(a.completer=new C),a.completer.autoInsert=!1,a.completer.showPopup(a))}}},E=G("../editor").Editor;G("../config").defineOptions(E.prototype,"editor",{enableBasicAutocompletion:{set:function(a){a?(this.completers||(this.completers=Array.isArray(a)?a:I),this.commands.addCommand(C.startCommand)):this.commands.removeCommand(C.startCommand)},value:!1},enableLiveAutocompletion:{set:function(a){a?(this.completers||(this.completers=Array.isArray(a)?a:I),this.commands.on("afterExec",A)):this.commands.removeListener("afterExec",A)},value:!1},enableSnippets:{set:function(a){a?(this.commands.addCommand(D),this.on("changeMode",x),x(null,this)):(this.commands.removeCommand(D),this.off("changeMode",x))},value:!1}})});(function(){window.require(["ace/ext/language_tools"],function(a){if(typeof module=="object"&&typeof exports=="object"&&module){module.exports=a}})})();